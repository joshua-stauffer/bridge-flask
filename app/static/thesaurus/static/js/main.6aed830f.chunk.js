(this["webpackJsonpvisual-thesaurus"]=this["webpackJsonpvisual-thesaurus"]||[]).push([[0],{49:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(18),o=n.n(i),s=(n(49),n(2)),l=Object(a.createContext)(),u=function(){return Object(a.useContext)(l)};function d(e){var t=e.children,n=Object(a.useState)(!1),r=Object(s.a)(n,2),i=r[0],o=r[1],u=Object(a.useState)(null),d=Object(s.a)(u,2),j=d[0],h=d[1],f=Object(a.useState)(null),b=Object(s.a)(f,2),x=b[0],v=b[1],p={method:"GET",mode:"same-origin",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}};return Object(a.useEffect)((function(){fetch("/api/vt-data",p).then((function(e){return e.json()})).then((function(e){v(e),setTimeout(o,1,!0)}),(function(e){o(!0),h(e)}))}),[]),Object(c.jsx)(l.Provider,{value:{isLoaded:i,data:x,apiError:j},children:t})}var j=function(e){for(var t in e)return t};var h=n(16),f=n(5);function b(e,t,n,c,a){var r=Object(h.a)(n),i=Object(h.a)(t),o=e.getBoundingClientRect(),s=o.height,l=o.width,u=f.f(r).force("link",f.d(i).id((function(e){return e.id})).strength((function(e){return e.strength})).distance(125)).force("charge",f.e().strength(-90)).force("center",f.b(l/2,s/2)).force("collision",f.c([45])),d=f.g(e).select("svg").attr("viewBox",[0,0,l,s]),j=["#e3eef9","#cfe1f2","#b5d4e9","#93c3df","#6daed5","#4b97c9","#2f7ebc","#1864aa","#0a4a90","#08306b"],b=["#fee3d6","#fdc9b4","#fcaa8e","#fc8a6b","#f9694c","#ef4533","#d92723","#bb151a","#970b13","#67000d"],x=function(e){return 1===e.group?j[Math.floor(Math.random()*j.length)]:2===e.group?b[Math.floor(Math.random()*b.length)]:"#385749ff"},v=function(e){return 1===e.level?5:45},p=d.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(i).join("line").attr("stroke-width",2),O=d.append("g").selectAll("circle").data(r).join((function(e){return e.append("circle").attr("r",v).attr("fill",x).attr("fill-opacity",.75).call(function(e){return f.a().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(u)).on("mouseover",(function(e,t){return a(t.id)})).on("mouseout",(function(){return a(null)})).on("click",(function(e,t){a(null),c(t.id)}))}),(function(e){return e}),(function(e){return e.remove()})),m=d.append("g").selectAll("text").data(r).join((function(e){return e.append("text").attr("font-family","Quicksand").attr("font-size","1.5rem").text((function(e){return e.label})).style("text-anchor","middle").style("color","white")}));return u.nodes(r).on("tick",(function(){O.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),m.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),p.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))})),{remove:function(){return d.selectAll("*").remove()}}}function x(e){var t=e.activeLinks,n=e.activeNodes,r=e.clickNode,i=e.changeToHover,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){return b(o.current,t,n,r,i).remove}),[t,n]),Object(c.jsx)("div",{ref:o,className:"container",children:Object(c.jsx)("svg",{})})}var v=n(3),p=n(4);function O(e){var t=e.changeToDef,n=e.changeToExample,a=e.changeToSearch,r=e.sideBarState;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:t,className:"definition"===r?"active-button":"",children:"Definition"}),Object(c.jsx)("button",{onClick:n,className:"example"===r?"active-button":"",children:"Example"}),Object(c.jsx)("button",{onClick:a,className:"search"===r?"active-button":"",children:"Search"})]})}function m(e){var t=e.titleText,n=e.exampleText,a=Object(p.a)(e,["titleText","exampleText"]);return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(O,Object(v.a)({},a)),Object(c.jsx)("h1",{className:"sidebar-title",children:t}),Object(c.jsx)("p",{className:"sidebar-text",children:n})]})}function g(e){var t=e.titleText,n=e.defText,a=Object(p.a)(e,["titleText","defText"]);return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(O,Object(v.a)({},a)),Object(c.jsx)("h1",{className:"sidebar-title",children:t}),Object(c.jsx)("p",{className:"sidebar-text",children:n})]})}function T(e){var t=e.term,n=e.index;return Object(c.jsx)("li",{children:t},n)}function N(e){return 0===e.userSearch.length?null:Object(c.jsx)("p",{children:"Sorry, your search doesn't match any terms."})}function k(e){var t=e.clickNode,n=Object(p.a)(e,["clickNode"]),r=Object(a.useState)(""),i=Object(s.a)(r,2),o=i[0],l=i[1],d=u().data,j=o.length?Object.keys(d).filter((function(e){return e.includes(o)})):[];return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(O,Object(v.a)({},n)),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o)},className:"search-form",children:[Object(c.jsx)("input",{type:"text",placeholder:"Begin typing to explore!",onChange:function(e){return t=e.target.value,void l(t);var t},required:!0,className:"search-bar"}),Object(c.jsx)("p",{className:"case-warning",children:"Note: search is case sensitive"}),Object(c.jsx)("button",{className:"search-button",children:"Go"})]}),Object(c.jsx)("ul",{children:j.length?j.map((function(e,t){return Object(c.jsx)(T,{term:e},t)})):Object(c.jsx)(N,{userSearch:o})})]})}function y(e){var t=e.hoverTitle,n=e.hoverDef,a=e.hoverExample;return Object(c.jsx)("div",{className:"sidebar",children:Object(c.jsxs)("aside",{className:"popup-aside",children:[Object(c.jsx)("h1",{className:"sidebar-title",children:t}),Object(c.jsx)("p",{children:"Click to learn more about this word"}),Object(c.jsx)("h4",{className:"popup-subtitle",children:"Definition"}),Object(c.jsx)("p",{className:"sidebar-text",children:n}),Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"popup-subtitle",children:"Example"}),Object(c.jsx)("p",{className:"sidebar-text",children:a}),Object(c.jsx)("hr",{})]})})}function S(e){var t=e.titleText,n=e.exampleText,a=e.defText,r=e.hoverTitle,i=e.hoverExample,o=e.hoverDef,s=Object(p.a)(e,["titleText","exampleText","defText","hoverTitle","hoverExample","hoverDef"]),l=s.sideBarState;return"example"===l?Object(c.jsx)(m,Object(v.a)({titleText:t,exampleText:n},s)):"definition"===l?Object(c.jsx)(g,Object(v.a)({titleText:t,defText:a},s)):"search"===l?Object(c.jsx)(k,Object(v.a)({},s)):"hover"===l?Object(c.jsx)(y,{hoverTitle:r,hoverDef:o,hoverExample:i}):void 0}function E(){console.log("entered loaded app");var e=u().data,t=function(e){console.log("entering useNodeState");var t=j(e);console.log(e[t]);var n=Object(a.useState)(e[t]),c=Object(s.a)(n,2),r=c[0],i=c[1];return{titleText:r.title,exampleText:r.example,defText:r.definition,activeLinks:r.links,activeNodes:r.nodes,clickNode:function(t){t in e&&i(e[t])}}}(e),n=t.titleText,r=t.exampleText,i=t.defText,o=t.activeLinks,l=t.activeNodes,d=t.clickNode,h=function(e){var t=j(e),n=Object(a.useState)("definition"),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(r),l=Object(s.a)(o,2),u=l[0],d=l[1],h=Object(a.useState)(e[t]),f=Object(s.a)(h,2),b=f[0],x=f[1],v=b.title,p=b.definition,O=b.example;return{sideBarState:r,changeToExample:function(){d("example"),i("example")},changeToDef:function(){d("definition"),i("definition")},changeToSearch:function(){d("search"),i("search")},changeToHover:function(t){t in e?(x(e[t]),v=b.title,p=b.definition,O=b.example,i("hover")):i(u)},hoverTitle:v,hoverDef:p,hoverExample:O}}(e),f=h.sideBarState,b=h.changeToExample,v=h.changeToDef,p=h.changeToSearch,O=h.changeToHover,m=h.hoverTitle,g=h.hoverDef,T=h.hoverExample;return Object(c.jsxs)("section",{className:"Main",children:[Object(c.jsx)(x,{activeLinks:o,activeNodes:l,clickNode:d,changeToHover:O}),Object(c.jsx)(S,{className:"sidebar",sideBarState:f,titleText:n,exampleText:r,defText:i,changeToExample:b,changeToDef:v,changeToSearch:p,hoverTitle:m,hoverExample:T,hoverDef:g,clickNode:d})]})}function D(){var e=u(),t=e.isLoaded,n=e.ApiError;return console.log("in thesaurus base - is loaded and api error are ",t,n),n?Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{children:["Error: ",n.message]}),";"]}):t?Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(E,{})}):Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{children:"Loading..."}),")"]})}var C=function(){return Object(c.jsx)(D,{})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(d,{children:Object(c.jsx)(C,{})})}),document.getElementById("react-root")),B()}},[[51,1,2]]]);
//# sourceMappingURL=main.6aed830f.chunk.js.map