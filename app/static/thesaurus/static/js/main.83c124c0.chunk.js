(this["webpackJsonpvisual-thesaurus"]=this["webpackJsonpvisual-thesaurus"]||[]).push([[0],{50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(18),s=n.n(i),o=(n(50),n(2)),l=Object(r.createContext)(),u=function(){return Object(r.useContext)(l)};function j(e){var t=e.children,n=Object(r.useState)(!1),a=Object(o.a)(n,2),i=a[0],s=a[1],u=Object(r.useState)(null),j=Object(o.a)(u,2),d=j[0],b=j[1],x=Object(r.useState)(null),h=Object(o.a)(x,2),f=h[0],O=h[1],v={method:"GET",mode:"same-origin",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}};return Object(r.useEffect)((function(){fetch("/api/vt-data",v).then((function(e){return e.json()})).then((function(e){O(e),setTimeout(s,1,!0)}),(function(e){s(!0),b(e)}))}),[]),Object(c.jsx)(l.Provider,{value:{isLoaded:i,data:f,apiError:d},children:t})}var d=function(e){for(var t in e)return t};var b=n(16),x=n(5);function h(e,t,n,c,r){var a=Object(b.a)(n),i=Object(b.a)(t),s=e.getBoundingClientRect(),o=s.height,l=s.width,u=Object(x.f)(a).force("link",Object(x.d)(i).id((function(e){return e.id})).strength((function(e){return e.strength})).distance(125)).force("charge",Object(x.e)().strength(-90)).force("center",Object(x.b)(l/2,o/2)).force("collision",Object(x.c)([45])),j=Object(x.g)(e).select("svg").attr("viewBox",[0,0,l,o]),d=["#6daed5","#4b97c9","#2f7ebc","#1864aa","#0a4a90","#08306b"],h=["#f9694c","#ef4533","#d92723","#bb151a","#970b13","#67000d"],f=function(e){return 1===e.group?d[Math.floor(Math.random()*d.length)]:2===e.group?h[Math.floor(Math.random()*h.length)]:"#385749ff"},O=function(e){return 1===e.level?5:0===e.level?60:45},v=j.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(i).join("line").attr("stroke-width",2),m=j.append("g").selectAll("circle").data(a).join((function(e){return e.append("circle").attr("r",O).attr("fill",f).attr("fill-opacity",.95).call(function(e){return Object(x.a)().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(u)).on("mouseover",(function(e,t){return r(t.id)})).on("mouseout",(function(){return r(null)})).on("click",(function(e,t){r(null),c(t.id)}))}),(function(e){return e}),(function(e){return e.remove()})),p=j.append("g").selectAll("text").data(a).join((function(e){return e.append("text").attr("font-family","Quicksand").attr("font-size","1.5rem").text((function(e){return e.label})).style("text-anchor","middle").style("fill","white").style("letter-spacing","0.2rem")}));return u.nodes(a).on("tick",(function(){m.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),p.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),v.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))})),{remove:function(){return j.selectAll("*").remove()}}}function f(e){var t=e.activeLinks,n=e.activeNodes,a=e.clickNode,i=e.changeToHover,s=Object(r.useRef)(null);return Object(r.useEffect)((function(){return h(s.current,t,n,a,i).remove}),[t,n]),Object(c.jsx)("div",{className:"Main",children:Object(c.jsx)("div",{ref:s,className:"container",children:Object(c.jsx)("svg",{})})})}var O=n(3),v=n(4);function m(e){var t=e.changeToDef,n=e.changeToExample,r=e.changeToSearch,a=e.sideBarState;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:t,className:"definition"===a?"active-button":"",children:"Definition"}),Object(c.jsx)("button",{onClick:n,className:"example"===a?"active-button":"",children:"Example"}),Object(c.jsx)("button",{onClick:r,className:"search"===a?"active-button":"",children:"Search"})]})}function p(e){var t=e.titleText,n=e.exampleText,r=Object(v.a)(e,["titleText","exampleText"]);return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(m,Object(O.a)({},r)),Object(c.jsx)("h1",{className:"sidebar-title",children:t}),Object(c.jsx)("p",{className:"sidebar-text",children:n})]})}function g(e){var t=e.titleText,n=e.defText,r=Object(v.a)(e,["titleText","defText"]);return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(m,Object(O.a)({},r)),Object(c.jsx)("h1",{className:"sidebar-title",children:t}),Object(c.jsx)("p",{className:"sidebar-text",children:n})]})}function T(e){var t=e.term,n=e.index;return Object(c.jsx)("li",{children:t},n)}function N(e){return 0===e.userSearch.length?null:Object(c.jsx)("p",{children:"Sorry, your search doesn't match any terms."})}function y(e){var t=e.clickNode,n=Object(v.a)(e,["clickNode"]),a=Object(r.useState)(""),i=Object(o.a)(a,2),s=i[0],l=i[1],j=u().data,d=s.length?Object.keys(j).filter((function(e){return e.includes(s)})):[];return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(m,Object(O.a)({},n)),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},className:"search-form",children:[Object(c.jsx)("input",{type:"text",placeholder:"Begin typing to explore!",onChange:function(e){return t=e.target.value,void l(t);var t},required:!0,className:"search-bar"}),Object(c.jsx)("p",{className:"case-warning",children:"Note: search is case sensitive"}),Object(c.jsx)("button",{className:"search-button",children:"Go"})]}),Object(c.jsx)("ul",{children:d.length?d.map((function(e,t){return Object(c.jsx)(T,{term:e},t)})):Object(c.jsx)(N,{userSearch:s})})]})}function k(e){var t=e.hoverTitle,n=e.hoverDef,r=e.hoverExample;return Object(c.jsx)("div",{className:"sidebar",children:Object(c.jsxs)("aside",{className:"popup-aside",children:[Object(c.jsx)("h1",{className:"sidebar-title",children:t}),Object(c.jsx)("p",{children:"Click to learn more about this word"}),Object(c.jsx)("h4",{className:"popup-subtitle",children:"Definition"}),Object(c.jsx)("p",{className:"sidebar-text",children:n}),Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"popup-subtitle",children:"Example"}),Object(c.jsx)("p",{className:"sidebar-text",children:r}),Object(c.jsx)("hr",{})]})})}function S(e){var t=e.titleText,n=e.exampleText,r=e.defText,a=e.hoverTitle,i=e.hoverExample,s=e.hoverDef,o=Object(v.a)(e,["titleText","exampleText","defText","hoverTitle","hoverExample","hoverDef"]),l=o.sideBarState;return"example"===l?Object(c.jsx)(p,Object(O.a)({titleText:t,exampleText:n},o)):"definition"===l?Object(c.jsx)(g,Object(O.a)({titleText:t,defText:r},o)):"search"===l?Object(c.jsx)(y,Object(O.a)({},o)):"hover"===l?Object(c.jsx)(k,{hoverTitle:a,hoverDef:s,hoverExample:i}):void 0}function E(){var e=u().data,t=function(e){var t=d(e),n=Object(r.useState)(e[t]),c=Object(o.a)(n,2),a=c[0],i=c[1];return{titleText:a.title,exampleText:a.example,defText:a.definition,activeLinks:a.links,activeNodes:a.nodes,clickNode:function(t){t in e&&i(e[t])}}}(e),n=t.titleText,a=t.exampleText,i=t.defText,s=t.activeLinks,l=t.activeNodes,j=t.clickNode,b=function(e){var t=d(e),n=Object(r.useState)("definition"),c=Object(o.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(a),l=Object(o.a)(s,2),u=l[0],j=l[1],b=Object(r.useState)(e[t]),x=Object(o.a)(b,2),h=x[0],f=x[1],O=h.title,v=h.definition,m=h.example;return{sideBarState:a,changeToExample:function(){j("example"),i("example")},changeToDef:function(){j("definition"),i("definition")},changeToSearch:function(){j("search"),i("search")},changeToHover:function(t){t in e?(f(e[t]),O=h.title,v=h.definition,m=h.example,i("hover")):i(u)},hoverTitle:O,hoverDef:v,hoverExample:m}}(e),x=b.sideBarState,h=b.changeToExample,O=b.changeToDef,v=b.changeToSearch,m=b.changeToHover,p=b.hoverTitle,g=b.hoverDef,T=b.hoverExample;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f,{activeLinks:s,activeNodes:l,clickNode:j,changeToHover:m}),Object(c.jsx)(S,{className:"sidebar",sideBarState:x,titleText:n,exampleText:a,defText:i,changeToExample:h,changeToDef:O,changeToSearch:v,hoverTitle:p,hoverExample:T,hoverDef:g,clickNode:j})]})}var D=n(19);function C(){return Object(c.jsx)("main",{className:"App",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"spinner-box",children:[Object(c.jsx)(D.a,{className:"spinner",size:"35px"}),Object(c.jsxs)("p",{children:["Loading slow? Prefer text to images? ",Object(c.jsx)("a",{href:"/alt-thesaurus",children:"A text-based thesaurus is available here."})]})]})})})}function B(){var e=u(),t=e.isLoaded,n=e.ApiError;return n?Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{children:["Error: ",n.message]}),";"]}):t?Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(E,{})}):Object(c.jsx)(C,{})}var w=function(){return Object(c.jsx)(B,{})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(j,{children:Object(c.jsx)(w,{})})}),document.getElementById("react-root")),A()}},[[52,1,2]]]);
//# sourceMappingURL=main.83c124c0.chunk.js.map