(this["webpackJsonpvisual-thesaurus"]=this["webpackJsonpvisual-thesaurus"]||[]).push([[0],{51:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),i=c(18),s=c.n(i),l=c(2),o=Object(r.createContext)(),u=function(){return Object(r.useContext)(o)};function j(e){var t=e.children,c=Object(r.useState)(!1),a=Object(l.a)(c,2),i=a[0],s=a[1],u=Object(r.useState)(null),j=Object(l.a)(u,2),d=j[0],x=j[1],b=Object(r.useState)(null),h=Object(l.a)(b,2),f=h[0],O=h[1],v={method:"GET",mode:"same-origin",cache:"default",credentials:"same-origin",headers:{"Content-Type":"application/json"}};return Object(r.useEffect)((function(){fetch("/api/vt-data",v).then((function(e){return e.json()})).then((function(e){O(e),setTimeout(s,1,!0)}),(function(e){s(!0),x(e)}))}),[]),Object(n.jsx)(o.Provider,{value:{isLoaded:i,data:f,apiError:d},children:t})}var d=function(e){for(var t in e)if(0===e[t].order)return t};var x=c(16),b=c(5);function h(e,t,c,n,r){var a=Object(x.a)(c),i=Object(x.a)(t),s=e.getBoundingClientRect(),l=s.height,o=s.width,u=Object(b.f)(a).force("link",Object(b.d)(i).id((function(e){return e.id})).strength((function(e){return e.strength})).distance(10)).force("charge",Object(b.e)().strength(-500)).force("center",Object(b.b)(o/2,l/2)).force("collision",Object(b.c)([45])),j=Object(b.g)(e).select("svg").attr("viewBox",[0,0,o,l]),d=["#6daed5","#4b97c9","#2f7ebc","#1864aa","#0a4a90","#08306b"],h=["#f9694c","#ef4533","#d92723","#bb151a","#970b13","#67000d"],f=function(e){return 1===e.group?d[e.index%d.length]:2===e.group?h[e.index%h.length]:"#385749ff"},O=function(e){return 1===e.level?5:0===e.level?60:45},v=j.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(i).join("line").attr("stroke-width",2),m=j.append("g").selectAll("circle").data(a).join((function(e){return e.append("circle").attr("r",O).attr("fill",f).attr("fill-opacity",.95).call(function(e){return Object(b.a)().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(u)).on("mouseover",(function(e,t){return r(t.id)})).on("mouseout",(function(){return r(null)})).on("click",(function(e,t){r(null),n(t.id)}))}),(function(e){return e}),(function(e){return e.remove()})),p=j.append("g").selectAll("text").data(a).join((function(e){return e.append("text").attr("font-family","Quicksand").attr("font-size","1.5rem").text((function(e){return e.label})).style("text-anchor","middle").style("fill","white").style("letter-spacing","0.1rem")}));return u.nodes(a).on("tick",(function(){m.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),p.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),v.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y}))})),{remove:function(){return j.selectAll("*").remove()}}}function f(e){var t=e.activeLinks,c=e.activeNodes,a=e.clickNode,i=e.changeToHover,s=Object(r.useRef)(null);return Object(r.useEffect)((function(){return h(s.current,t,c,a,i).remove}),[t,c]),Object(n.jsx)("div",{className:"Main",children:Object(n.jsx)("div",{ref:s,className:"container",children:Object(n.jsx)("svg",{})})})}var O=c(3),v=c(4);function m(e){var t=e.changeToDef,c=e.changeToExample,r=e.changeToSearch,a=e.sideBarState;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{onClick:t,className:"definition"===a?"active-button":"",children:"Definition"}),Object(n.jsx)("button",{onClick:c,className:"example"===a?"active-button":"",children:"Example"}),Object(n.jsx)("button",{onClick:r,className:"search"===a?"active-button":"",children:"Search"})]})}function p(e){var t=e.titleText,c=e.exampleText,r=Object(v.a)(e,["titleText","exampleText"]);return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)(m,Object(O.a)({},r)),Object(n.jsx)("h1",{className:"sidebar-title",children:t}),Object(n.jsx)("p",{className:"sidebar-text",children:c})]})}function g(e){var t=e.titleText,c=e.defText,r=Object(v.a)(e,["titleText","defText"]);return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)(m,Object(O.a)({},r)),Object(n.jsx)("h1",{className:"sidebar-title",children:t}),Object(n.jsx)("p",{className:"sidebar-text",children:c})]})}function T(e){var t=e.term,c=e.index,r=e.clickFunc;return Object(n.jsx)("li",{children:Object(n.jsx)("button",{onClick:function(){return r(t)},className:"select-term-button",children:t})},c)}function N(e){return 0===e.userSearch.length?null:Object(n.jsx)("p",{children:"Sorry, your search doesn't match any terms."})}function k(e){var t=e.clickNode,c=Object(v.a)(e,["clickNode"]),a=Object(r.useState)(""),i=Object(l.a)(a,2),s=i[0],o=i[1],j=u().data,d=s.length?Object.keys(j).filter((function(e){return e.includes(s)})):[];return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)(m,Object(O.a)({},c)),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},className:"search-form",children:[Object(n.jsx)("input",{type:"text",placeholder:"Begin typing to explore!",onChange:function(e){return t=e.target.value,void o(t);var t},required:!0,className:"search-bar"}),Object(n.jsx)("p",{className:"case-warning",children:"Note: search is case sensitive"})]}),Object(n.jsx)("ul",{children:d.length?d.map((function(e,c){return Object(n.jsx)(T,{term:e,clickFunc:t},c)})):Object(n.jsx)(N,{userSearch:s})})]})}function y(e){var t=e.hoverTitle,c=e.hoverDef,r=e.hoverExample;return Object(n.jsx)("div",{className:"sidebar",children:Object(n.jsxs)("aside",{className:"popup-aside",children:[Object(n.jsx)("h1",{className:"sidebar-title",children:t}),Object(n.jsx)("p",{children:"Click circle to select"}),Object(n.jsx)("h4",{className:"popup-subtitle",children:"Definition"}),Object(n.jsx)("p",{className:"sidebar-text",children:c}),Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{className:"popup-subtitle",children:"Example"}),Object(n.jsx)("p",{className:"sidebar-text",children:r}),Object(n.jsx)("hr",{})]})})}function S(e){var t=e.titleText,c=e.exampleText,r=e.defText,a=e.hoverTitle,i=e.hoverExample,s=e.hoverDef,l=Object(v.a)(e,["titleText","exampleText","defText","hoverTitle","hoverExample","hoverDef"]),o=l.sideBarState;return"example"===o?Object(n.jsx)(p,Object(O.a)({titleText:t,exampleText:c},l)):"definition"===o?Object(n.jsx)(g,Object(O.a)({titleText:t,defText:r},l)):"search"===o?Object(n.jsx)(k,Object(O.a)({},l)):"hover"===o?Object(n.jsx)(y,{hoverTitle:a,hoverDef:s,hoverExample:i}):void 0}function E(){var e=u().data,t=function(e){var t=d(e),c=Object(r.useState)(e[t]),n=Object(l.a)(c,2),a=n[0],i=n[1];return{titleText:a.title,exampleText:a.example,defText:a.definition,activeLinks:a.links,activeNodes:a.nodes,clickNode:function(t){t in e&&i(e[t])}}}(e),c=t.titleText,a=t.exampleText,i=t.defText,s=t.activeLinks,o=t.activeNodes,j=t.clickNode,x=function(e){var t=d(e),c=Object(r.useState)("definition"),n=Object(l.a)(c,2),a=n[0],i=n[1],s=Object(r.useState)(a),o=Object(l.a)(s,2),u=o[0],j=o[1],x=Object(r.useState)(e[t]),b=Object(l.a)(x,2),h=b[0],f=b[1],O=h.title,v=h.definition,m=h.example;return{sideBarState:a,changeToExample:function(){j("example"),i("example")},changeToDef:function(){j("definition"),i("definition")},changeToSearch:function(){j("search"),i("search")},changeToHover:function(t){t in e?(f(e[t]),O=h.title,v=h.definition,m=h.example,i("hover")):i(u)},hoverTitle:O,hoverDef:v,hoverExample:m}}(e),b=x.sideBarState,h=x.changeToExample,O=x.changeToDef,v=x.changeToSearch,m=x.changeToHover,p=x.hoverTitle,g=x.hoverDef,T=x.hoverExample;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{activeLinks:s,activeNodes:o,clickNode:j,changeToHover:m}),Object(n.jsx)(S,{className:"sidebar",sideBarState:b,titleText:c,exampleText:a,defText:i,changeToExample:h,changeToDef:O,changeToSearch:v,hoverTitle:p,hoverExample:T,hoverDef:g,clickNode:j})]})}var D=c(19);function C(){return Object(n.jsx)("main",{className:"App",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"spinner-box",children:[Object(n.jsx)(D.a,{className:"spinner",size:"35px"}),Object(n.jsxs)("p",{children:["Loading slow? Prefer text to images? ",Object(n.jsx)("a",{href:"/alt-thesaurus",children:"A text-based thesaurus is available here."})]})]})})})}function A(){var e=u(),t=e.isLoaded,c=e.ApiError;return c?Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{children:["Error: ",c.message]}),";"]}):t?Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(E,{})}):Object(n.jsx)(C,{})}var B=function(){return Object(n.jsx)(A,{})};s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(j,{children:Object(n.jsx)(B,{})})}),document.getElementById("react-root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.9085d0fc.chunk.js.map